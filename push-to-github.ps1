# PowerShell —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∫–æ–º–º–∏—Ç–∞ –∏ –ø—É—à–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ GitHub
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: .\push-to-github.ps1 "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"

param(
    [Parameter(Mandatory=$false)]
    [string]$Message = "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞"
)

$ErrorActionPreference = "Stop"

Write-Host "üìù –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∫–æ–º–º–∏—Ç—É..." -ForegroundColor Yellow

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
$status = git status --porcelain
if (-not $status) {
    Write-Host "‚ö†Ô∏è  –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–æ–º–º–∏—Ç–∞" -ForegroundColor Yellow
    exit 0
}

Write-Host "üìã –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:" -ForegroundColor Cyan
git status --short

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
Write-Host "`n‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤..." -ForegroundColor Yellow
git add .

# –ö–æ–º–º–∏—Ç
Write-Host "üíæ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞..." -ForegroundColor Yellow
git commit -m $Message

# –ü—É—à
Write-Host "üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ GitHub..." -ForegroundColor Yellow
git push origin master

Write-Host "`n‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ GitHub!" -ForegroundColor Green
Write-Host "üì¶ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/IV-YADOV/vlesser.git" -ForegroundColor Cyan

